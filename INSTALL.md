# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BM25Search

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ò–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ë–∞–∑–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install git+https://github.com/yourusername/bm25search.git

# –° –ø–æ–ª–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (NLTK, pymorphy2)
pip install git+https://github.com/yourusername/bm25search.git[full]
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
git clone https://github.com/yourusername/bm25search.git
cd bm25search
pip install -e .[dev]
```

### –ò–∑ PyPI (–µ—Å–ª–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω)
```bash
pip install bm25search
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫
```python
from bm25search import smart_search

documents = [
    "Python - –º–æ—â–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
    "JavaScript –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏", 
    "SQL –Ω—É–∂–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö"
]

results = smart_search(documents, "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ")
for doc_id, score, content in results:
    print(f"{score:.2f} - {content}")
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```python
from bm25search import SmartSearchEngine

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞
engine = SmartSearchEngine(
    db_path="my_search.db",  # –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    k1=1.5,                  # –ü–∞—Ä–∞–º–µ—Ç—Ä BM25
    b=0.75                   # –ü–∞—Ä–∞–º–µ—Ç—Ä BM25
)

# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
documents = [
    "–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
    "–ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è",
    "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏"
]

engine.index_documents(documents)

# –ü–æ–∏—Å–∫
results = engine.search("–æ–±—É—á–µ–Ω–∏–µ", top_k=5)
for doc_id, score, content in results:
    print(f"{score:.2f} - {content}")

# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
explanation = engine.explain_search("–æ–±—É—á–µ–Ω–∏–µ", doc_id=0)
print(f"BM25 —Å–∫–æ—Ä: {explanation['bm25_score']:.3f}")

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
stats = engine.get_stats()
print(f"–î–æ–∫—É–º–µ–Ω—Ç–æ–≤: {stats['total_documents']}")
print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤: {stats['total_unique_terms']}")

# –ó–∞–∫—Ä—ã—Ç–∏–µ
engine.close()
```

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
- Python >= 3.7

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Å `[full]`)
- `nltk` - –¥–ª—è —Å—Ç–µ–º–º–∏–Ω–≥–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- `pymorphy2` - –¥–ª—è –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- `langdetect` - –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bm25search/
‚îú‚îÄ‚îÄ bm25search/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py      # –û—Å–Ω–æ–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ core.py          # –ì–ª–∞–≤–Ω—ã–π –ø–æ–∏—Å–∫–æ–≤–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ utils.py         # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îî‚îÄ‚îÄ basic_usage.py   # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_basic.py    # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ setup.py             # –£—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å

–ü–æ–∏—Å–∫–æ–≤–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É:

```python
# –†—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç - –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ pymorphy2
engine.search("–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ")  # –Ω–∞–π–¥–µ—Ç "–ø—Ä–æ–≥—Ä–∞–º–º–∞", "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç"

# –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç - —Å—Ç–µ–º–º–∏–Ω–≥ —á–µ—Ä–µ–∑ NLTK
engine.search("programming")       # –Ω–∞–π–¥–µ—Ç "program", "programmer"
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **SQLite** –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞
- **–ë—ã—Å—Ç—Ä–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è** - –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫** - BM25 —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ –ë–î

## üîç –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤
cd bm25search
python examples/basic_usage.py

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
python -c "from bm25search import SmartSearchEngine; print('OK')"
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
